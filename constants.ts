
import { GiaiDoan } from './types';

export const TOC_DO_TICK = 3000; // ms
export const MAX_CHI_SO = 100;
export const TICKS_PER_DAY = 60; // Defines length of a day in game ticks (60 ticks * 3s = 3 minutes)

// Evolution Thresholds (ticks)
export const NGUONG_NUT_VO = 10;      // Egg -> Cracked
export const NGUONG_NO = 20;          // Cracked -> Baby
export const NGUONG_THIEU_NIEN = 60;  // Baby -> Teen
export const NGUONG_TRUONG_THANH = 120; // Teen -> Adult

/**
 * KÍCH THƯỚC LƯỚI: 12x12
 * HƯỚNG DẪN MÀU:
 * 0: Không vẽ
 * 1: Trắng (Vỏ trứng)
 * 2: Vàng (Thân gà con)
 * 3: Cam (Mỏ, Chân)
 * 4: Đỏ (Mào)
 * 5: Đen/Nâu (Mắt, Đuôi)
 * 6: Nâu (Thân gà lớn)
 */

// GIAI ĐOẠN 1: TRỨNG (EGG)
export const STAGE_1_EGG = [
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,1,1,0,0,0,0,0],
  [0,0,0,0,1,1,1,1,0,0,0,0],
  [0,0,0,1,1,1,1,1,1,0,0,0],
  [0,0,0,1,1,1,1,1,1,0,0,0],
  [0,0,1,1,1,1,1,1,1,1,0,0],
  [0,0,1,1,1,1,1,1,1,1,0,0],
  [0,0,1,1,1,1,1,1,1,1,0,0],
  [0,0,0,1,1,1,1,1,1,0,0,0],
  [0,0,0,0,1,1,1,1,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
];

// GIAI ĐOẠN 2: TRỨNG NỨT (CRACKED EGG)
export const STAGE_2_CRACKED = [
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,1,1,0,0,0,0,0],
  [0,0,0,0,1,1,5,1,0,0,0,0], // Số 5 là vết nứt
  [0,0,0,1,1,5,1,1,1,0,0,0],
  [0,0,0,1,1,1,1,1,1,0,0,0],
  [0,0,1,1,1,1,1,5,1,1,0,0],
  [0,0,1,1,5,1,1,5,1,1,0,0],
  [0,0,1,1,5,5,1,1,1,1,0,0],
  [0,0,0,1,1,1,1,1,1,0,0,0],
  [0,0,0,0,1,1,1,1,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
];

// GIAI ĐOẠN 3: GÀ CON (BABY CHICK)
export const STAGE_3_BABY = [
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,2,2,2,0,0,0,0], // Đỉnh đầu
  [0,0,0,0,2,2,2,2,2,0,0,0],
  [0,0,0,0,2,5,2,2,2,0,0,0], // Số 5 là Mắt
  [0,0,0,0,2,2,2,3,3,0,0,0], // Số 3 là Mỏ
  [0,0,0,0,2,2,2,2,2,0,0,0],
  [0,0,0,2,2,2,2,2,2,2,0,0], // Bụng phình ra
  [0,0,0,2,2,2,2,2,2,2,0,0],
  [0,0,0,0,2,2,2,2,2,0,0,0],
  [0,0,0,0,3,0,0,3,0,0,0,0], // Chân
  [0,0,0,3,3,0,0,3,3,0,0,0], // Bàn chân
  [0,0,0,0,0,0,0,0,0,0,0,0],
];

// GIAI ĐOẠN 4: GÀ NHỠ (TEEN CHICK)
export const STAGE_4_TEEN = [
  [0,0,0,0,0,0,4,4,0,0,0,0], // Mào nhỏ mới nhú
  [0,0,0,0,0,2,2,2,2,0,0,0],
  [0,0,0,0,2,5,2,2,2,0,0,0], // Mắt
  [0,0,0,0,2,2,2,3,3,0,0,0], // Mỏ dài hơn xíu
  [0,0,0,0,0,2,2,2,0,0,0,0], // Cổ
  [0,0,0,0,2,2,2,2,2,0,0,0],
  [0,0,0,2,2,2,2,2,2,0,0,0],
  [0,0,2,2,2,2,2,2,2,0,0,0], // Đuôi nhú bên trái
  [0,0,0,2,2,2,2,2,0,0,0,0],
  [0,0,0,0,3,0,0,3,0,0,0,0], // Chân cao hơn
  [0,0,0,0,3,0,0,3,0,0,0,0],
  [0,0,0,3,3,0,3,3,0,0,0,0],
];

// GIAI ĐOẠN 5: GÀ TRỐNG (ADULT ROOSTER)
export const STAGE_5_ADULT = [
  [0,0,0,0,0,0,4,4,4,0,0,0], // Mào đỏ lớn
  [0,0,0,0,0,6,6,6,6,0,0,0], // Đầu nâu cam
  [0,0,0,0,6,5,6,6,3,3,0,0], // Mắt đen, Mỏ vàng
  [0,0,0,0,6,6,6,4,4,0,0,0], // Yếm cổ đỏ
  [0,0,0,0,6,6,6,6,6,0,0,0], // Thân
  [0,0,0,6,6,6,6,6,6,6,0,0], // Cánh
  [0,5,5,6,6,6,6,6,6,0,0,0], // Đuôi đen cong lên
  [5,5,0,6,6,6,6,6,6,0,0,0], // Đuôi dài ra
  [5,0,0,6,6,6,6,6,0,0,0,0],
  [0,0,0,0,3,0,0,3,0,0,0,0], // Chân chắc khỏe
  [0,0,0,0,3,0,0,3,0,0,0,0],
  [0,0,0,3,3,3,3,3,3,0,0,0], // Bàn chân to
];

const GHOST = [
  [0,0,0,1,1,0,0,0],
  [0,0,1,1,1,1,0,0],
  [0,1,0,1,1,0,1,0],
  [0,1,1,1,1,1,1,0],
  [0,1,1,1,1,1,1,0],
  [0,1,0,1,0,1,1,0],
  [0,1,0,1,0,1,0,0],
  [0,0,0,0,0,0,0,0],
];

const POOP = [
  [0,0,0,0,14,0,0,0], // 14: Highlight
  [0,0,0,13,13,0,0,0], // 13: Brown
  [0,0,13,13,13,13,0,0],
  [0,13,14,13,13,14,13,0], // Highlight ở giữa
  [0,13,13,13,13,13,13,0],
  [13,13,13,13,13,13,13,13],
  [13,13,13,13,13,13,13,13],
  [0,0,0,0,0,0,0,0],
];

// --- ENVIRONMENT ASSETS ---

// Cỏ thấp (Low Grass) - Dùng để lót nền
export const GRASS_LOW = [
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,8,0,0,0,8,0,8,0,0,0], // Mọc lú nhú
  [0,8,8,8,0,8,8,8,8,8,0,0],
  [8,8,8,8,8,8,8,8,8,8,8,0], // Dày đặc ở đáy
  [8,8,8,8,8,8,8,8,8,8,8,8],
];

// Bụi cỏ cao (Tall Grass Tuft) - Điểm nhấn
export const GRASS_TALL = [
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,8,0,0,0,0,0,0,0], // Ngọn cỏ vươn lên
  [0,0,0,8,8,0,0,0,8,0,0,0],
  [0,0,8,8,8,8,0,8,8,0,0,0],
  [0,0,8,8,8,8,8,8,8,0,0,0],
  [0,8,8,8,8,8,8,8,8,8,0,0],
  [0,8,8,7,7,8,8,7,7,8,0,0], // Pha chút xanh đậm (7) ở gốc tạo chiều sâu
  [8,8,7,7,7,7,7,7,7,7,8,0],
  [8,8,7,7,7,7,7,7,7,7,8,8],
];

// Hoa (Flower)
export const FLOWER = [
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,10,10,10,0,0,0,0,0], // Cánh hoa trên (10: Hồng)
  [0,0,0,10,12,12,12,10,0,0,0,0], // Nhuỵ vàng (12) ở giữa
  [0,0,0,10,12,12,12,10,0,0,0,0],
  [0,0,0,0,10,10,10,0,0,0,0,0], // Cánh hoa dưới
  [0,0,0,0,0,8,0,0,0,0,0,0],   // Thân cây (8: Xanh)
  [0,0,0,0,8,8,8,0,0,0,0,0],   // Lá mọc ra
  [0,0,0,8,8,8,8,8,0,0,0,0],
  [0,0,0,0,0,8,0,0,0,0,0,0],   // Thân dưới
  [0,0,0,0,0,8,0,0,0,0,0,0],
  [0,0,0,0,8,8,8,0,0,0,0,0],   // Gốc
];

// Cây tán tròn (Small Tree)
export const TREE_SMALL = [
  [0,0,0,0,7,7,7,7,0,0,0,0], // Tán lá trên cùng (7: Xanh đậm)
  [0,0,7,7,8,8,8,8,7,7,0,0], // Pha xanh non (8) cho có ánh sáng
  [0,7,8,8,8,8,8,8,8,8,7,0],
  [0,7,8,8,8,8,8,8,8,8,7,0],
  [0,7,8,8,8,8,8,8,8,8,7,0],
  [0,0,7,7,8,8,8,8,7,7,0,0], // Tán lá dưới bo tròn
  [0,0,0,0,7,7,7,7,0,0,0,0],
  [0,0,0,0,0,9,9,0,0,0,0,0], // Thân cây (9: Nâu)
  [0,0,0,0,0,9,9,0,0,0,0,0],
  [0,0,0,0,9,9,9,9,0,0,0,0], // Gốc cây xoè ra
  [0,0,0,9,9,9,9,9,9,0,0,0],
  [0,0,8,8,8,0,0,8,8,8,0,0], // Cỏ mọc quanh gốc
];

// Đám mây (Cloud)
export const CLOUD = [
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,1,1,1,1,0,0,0,0], // Đỉnh mây trắng
  [0,0,0,1,1,1,1,1,1,0,0,0],
  [0,0,1,1,1,1,1,1,1,1,0,0],
  [0,1,1,1,1,1,1,1,1,1,1,0],
  [1,1,1,1,1,1,1,1,1,1,1,1],
  [1,1,1,1,1,1,1,1,1,1,1,1],
  [0,1,1,1,1,1,1,1,1,1,1,0],
  [0,0,11,11,11,11,11,11,0,0], // Bóng mây (11) tạo khối
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0],
];

// Mapping to existing FRAMES structure
// Since we only have static frames for now, we map IDLE and HAPPY to the same grid
// (or you could create variations if you had them)
export const FRAMES = {
  [GiaiDoan.TRUNG]: { IDLE: STAGE_1_EGG, HAPPY: STAGE_1_EGG },
  [GiaiDoan.NUT_VO]: { IDLE: STAGE_2_CRACKED, HAPPY: STAGE_2_CRACKED },
  [GiaiDoan.SO_SINH]: { IDLE: STAGE_3_BABY, HAPPY: STAGE_3_BABY },
  [GiaiDoan.THIEU_NIEN]: { IDLE: STAGE_4_TEEN, HAPPY: STAGE_4_TEEN },
  [GiaiDoan.TRUONG_THANH]: { IDLE: STAGE_5_ADULT, HAPPY: STAGE_5_ADULT },
  [GiaiDoan.HON_MA]: { IDLE: GHOST, HAPPY: GHOST },
  POOP: POOP
};
